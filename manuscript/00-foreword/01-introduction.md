# 시작하는 글

최근 몇 년 간 웹 애플리케이션 내 상태 관리(state management) 문제는 뜨거운 감자입니다. [단일 페이지 애플리케이션(SPA, single page application)](https://en.wikipedia.org/wiki/Single-page_application)은 웹 서버에서 데이터가 전달된 후, 백엔드 애플리케이션에 요청하지 않고 클라이언트에서 상태 관리를 처리합니다. 이러한 SPA는 훌륭한 사용자 경험을 만드는 것이 중요합니다. 애플리케이션을 처음 켤 때부터 말이죠. 아주 단순한 팝업 창도 잘 작동해야 합니다. 이와 같은 팝업 창이 바로 상태(state)입니다. 그렇다면 백엔드가 아닌 누가 이 상태를 관리할까요?

[제이쿼리(jQuery)](https://en.wikipedia.org/wiki/JQuery)는 SPA이 만들어지기 전 가장 유명한 라이브러리였습니다. 맨 처음에 제이쿼리는 DOM 조작을 다루기 때문에 상태 관리는 해당 사항이 없었습니다. 오히려 제이쿼리로 인해 웹에 애니메이션을 추가하기 위해 DOM 노드를 추가하거나 삭제하거나, HTML 내 스타일을 바꾸는 작업 등 인터렉티브 한 웹 개발이 가능해졌습니다. 

이후 HTML과 CSS보다 제이쿼리와 자바스크립트 비중이 커졌고 프론트엔드 개발은 복잡하고 정교해졌습니다. 상태 관리는 물론 클린 코드와 같은 모범 사례가 없었기에 대다수 웹 사이트 내 제이쿼리 코드는 그야말로 엉망이었습니다. 프론트엔드 애플리케이션 아키텍처 솔루션도 없었습니다. 때문에 규모가 큰 애플리케이션을 유지 보수할 수 있는 획기적인 방법이 필요했습니다.

그리고 SPA 개발을 위해 비구조화된 프론트엔드 애플리케이션 아키텍처 프레임워크이 등장했습니다. 바로 앵귤러(Angular), 엠버(Ember), 백본(Backbone)입니다. SPA 개발 핵심은 [model-view-controller(MVC) 패턴](https://en.wikipedia.org/wiki/Model-view-controller)입니다. MVC 패턴의 프레임워크는 브라우저에서 HTML을 표시하는 뷰(view) 레이어부터 백엔드와 상호 작용하는 모델(model) 레이어에 이르기까지 필요한 모든 것을 제공하여 보다 정교한 애플리케이션을 만들 수 있게 되었습니다. SPA란 웹 서버에서 받은 정보를 한 페이지 내에서 클라이언트에서 조작하는 것을 말합니다. 자바스크립트와 연결된 HTML 덩어리는 클라이언트에서 모두 처리됩니다. 다른 페이지로 이동해도 자바스크립트로 HTML을 가져오기 위해 서버에 추가 요청을 보내지 않습니다. SPA는 새 데이터를 가져오거나 보낼 때만 백엔드와 상호 작용합니다. 팝업, 필터 및 모달 창과 같은 인터렉션은 클라이언트 내부 상태에서 처리합니다. 그렇다면 클라이언트에서 누가 상태를 일관성 있게 처리하는 걸까요?

SPA 프레임워크 1세대 탄생으로 모범 사례, 패턴 및 아키텍처가 구축됐지만 상태 관리는 고질적인 문제였습니다. 새로운 데이터를 검색하기 위해 백엔드와 상호 작용할 때 예측 가능한 방식으로 데이터를 관리하는 방법이 정형화되지 않았습니다. 프론트엔드에서 모달 또는 팝업 창과 같은 뷰 요소를 조작할 때 상태를 관리할 수 있는 모범 사례도 일반화되지 않았습니다. 프레임워크마다 제각각 다른 솔루션을 도입했고 모범 예제를 제안하고 대체 라이브러리를 만들었지만 뚜렷한 상태 관리 방법은 없었습니다.

이유는 바로 초기 SPA 프레임워크에서는 많은 일을 한꺼번에 해결하고자 했기 때문입니다. 물론 이제 막 처음 SPA가 시작되는 시기였기 때문에 커뮤니티에서 충분희 의논하고 해결할 기회가 없었기도 합니다.

반면 SPA 프레임워크 2세대인 리액트(react.js)와 뷰(Vue.js)는 아주 작은 단위인 뷰 레이어(view layer)만 집중했습니다. 상태 관리 문제와 같이 특정 이슈를 해결하기 위해 라이브러리 도입 여부와 선택은 개발자의 몫입니다. 이처럼 리액트는 [유연성과 확장성이 뛰어난 강력한 라이브러리입니다.]((https://www.robinwieruch.de/reasons-why-i-moved-from-angular-to-react/))

최근까지도 상태 관리와 관련된 수많은 솔루션을 소개하는 글과 라이브러리가 봇물처럼 쏟아지고 있습니다. 그러나 상태 관리가 왜 필요한지 속시원하게 말해주거나, 리덕스(Redux), 모브엑스(MobX)와 같은 외부 상태 라이브러리를 비교하거나 장단점을 속 시원하게 설명해주지 못했습니다. 정작 아주 기본적인 상태 관리의 기본적인 한계와 문제점을 간과하거나, 매우 과도한 방법으로 상태 관리를 해결하는 경우도 비일비재합니다. 간단하게 해결할 수 있는데도 말이죠. 저는 그동안 최신 애플리케이션 상태 관리를 일관성있고 조직적으로 설계할 수 있는 안내서가 필요하다고 생각했습니다. 이 것이 바로 제가 이 책을 쓴 이유입니다.

무엇이든지 새로운 것을 배울 때 기초부터 차근차근 하나씩 쌓는 것이 중요합니다. 반드시 한 문제를 해결한 후에 다음 문제로 넘어가세요. 모든 것을 한꺼번에 시도하지 마세요. 먼저 문제가 무엇인지 이해한 후 해결하세요. 이 책은 리덕스 뿐만 아니라 최신 애플리케이션 내 상태 관리 방법을 다룹니다. 실제 실무에도 충분히 사용할 수 있는 내용을 담았습니다. 

리액트 내부 상태 관리(Local State in React), 리덕스(Redux), 모브엑스(MobX) 세 주제가 이 책의 핵심입니다. [댄 애브라몹(Dan Abramov)](https://twitter.com/dan_abramov), [앤드류 클라크(Andrew Clark)](https://twitter.com/acdlite), [마이클 웨스트레이트(Michel Weststrate)](https://twitter.com/mweststrate)와 같은 혁신가들이 없었다면 저는 이 책을 쓸 수 없었을 것입니다. 오늘날 최신 웹 개발을 즐겁게 할 수 있도록 공헌해주신 커뮤니티 내 모든 분들에게 감사의 말씀을 전합니다.
